{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Product Requirements Document Schema",
  "type": "object",
  "required": [
    "id",
    "version",
    "features",
    "userStories",
    "acceptanceCriteria"
  ],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the PRD"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "features": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "priority"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "priority": {
            "enum": [
              "critical",
              "high",
              "medium",
              "low"
            ]
          }
        }
      }
    },
    "userStories": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "as",
          "want",
          "so"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "as": {
            "type": "string"
          },
          "want": {
            "type": "string"
          },
          "so": {
            "type": "string"
          }
        }
      }
    },
    "acceptanceCriteria": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "criteria",
          "testable"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "criteria": {
            "type": "string"
          },
          "testable": {
            "type": "boolean"
          }
        }
      }
    }
  }
}