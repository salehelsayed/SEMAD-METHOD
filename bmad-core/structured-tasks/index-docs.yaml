id: index-docs
name: Index Documentation Task
purpose: This task maintains the integrity and completeness of the `docs/index.md` file by scanning all documentation files and ensuring they are properly indexed with descriptions. It handles both root-level documents and documents within subfolders, organizing them hierarchically.
steps:
  - id: load-memory
    name: Load Memory and Initialize Context
    description: Load agent working memory and relevant long-term context using unified memory system
    actions:
      - description: Load agent working memory and relevant long-term context
        elicit: false
        function: loadMemoryForTask
        parameters:
          agentName: generic
          context:
            taskId: index-docs
            taskType: documentation
        metadata:
          memoryAction: true
          executionOrder: first
      - description: Apply memory context to task execution planning
        elicit: true
        metadata:
          memoryAction: true
          executionOrder: after-load
  - id: step0
    name: Initialize Memory
    description: Setup working memory for indexing session
    actions:
      - description: Initialize working memory for documentation indexing
        elicit: false
        metadata:
          originalIndent: 0
      - description: Update memory with indexed documentation structure
        elicit: false
        metadata:
          originalIndent: 0
  - id: save-memory
    name: Save Task Results and Clean Memory
    description: Save task completion and findings to memory with hygiene cleanup
    actions:
      - description: Save task completion and findings to working memory
        elicit: true
        function: saveAndCleanMemory
        parameters:
          agentName: generic
          taskData:
            observation: Completed index-docs task successfully
            significantFinding: '{{TASK_SIGNIFICANT_FINDING}}'
            taskCompleted: true
            taskId: index-docs
            context:
              taskType: documentation
        metadata:
          memoryAction: true
          executionOrder: last
inputs: {}
outputs: {}
metadata:
  originalSections:
    - Purpose
    - Task Instructions
    - Required Input
  preservedContent:
    - type: special-note
      content: '   - Note the folder structure for hierarchical organization'
      lineNumber: 18
    - type: special-note
      content: '   - Note existing file references and descriptions'
      lineNumber: 23
    - type: special-note
      content: '   - Note which folder it belongs to (if in a subfolder)'
      lineNumber: 34
    - type: code-block
      content: |-
        ```markdown
        # Documentation Index

        ## Root Documents

        ### [Document Title](./document.md)

        Brief description of the document's purpose and contents.

        ### [Another Document](./another.md)

        Description here.

        ## Folder Name

        Documents within the `folder-name/` directory:

        ### [Document in Folder](./folder-name/document.md)

        Description of this document.

        ### [Another in Folder](./folder-name/another.md)

        Description here.

        ## Another Folder

        Documents within the `another-folder/` directory:

        ### [Nested Document](./another-folder/document.md)

        Description of nested document.

        ```
      lineNumber: 59
    - type: code-block
      content: |-
        ```markdown
        ### [Document Title](relative/path/to/file.md)

        Brief description of the document's purpose and contents.
        ```
      lineNumber: 98
    - type: code-block
      content: |2-
           ```markdown
           Missing file detected:
           Title: [Document Title]
           Path: relative/path/to/file.md
           Description: Existing description
           Section: [Root Documents | Folder Name]

           Options:

           1. Remove this entry
           2. Update the file path
           3. Keep entry (mark as temporarily unavailable)

           Please choose an option (1/2/3):
           ```
      lineNumber: 138
    - type: special-note
      content: '   - Note in the description that this is a multi-part document'
      lineNumber: 163
notes: |2
     - Note the folder structure for hierarchical organization
     - Note existing file references and descriptions
     - Note which folder it belongs to (if in a subfolder)
     - Note in the description that this is a multi-part document
     - Performance: When scanning documentation and reading file contents, prefer bounded concurrency (e.g., 4â€“8 workers) to speed up indexing without overloading I/O
