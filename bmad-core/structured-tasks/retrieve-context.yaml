id: retrieve-context
name: Retrieve Context from Memory
category: memory
description: Retrieves relevant context from long-term memory using similarity search
priority: high
tags:
  - memory
  - context-retrieval
  - qdrant
requiredInputs:
  - name: query
    type: string
    description: Query string to search for similar memories
  - name: topN
    type: number
    description: Number of top results to retrieve
    optional: true
    default: 5
outputs:
  - name: memories
    type: array
    description: Array of retrieved memory snippets with scores
dependencies: []
executionSteps:
  - Connect to Qdrant vector database
  - Generate embedding for the query
  - Perform similarity search
  - Return top N matching memories with scores
validationCriteria:
  - Query is a non-empty string
  - Returns array of memory objects
  - Each memory has score and content
exampleUsage: |
  const memories = await retrieveMemory(
    'user authentication implementation',
    5
  );
  // Returns: [
  //   { score: 0.95, text: '...', agentName: 'dev', timestamp: '...' },
  //   ...
  // ]