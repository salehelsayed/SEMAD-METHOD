id: kb-mode-interaction
name: KB Mode Interaction Task
purpose: Provide a user-friendly interface to the BMad knowledge base without overwhelming users with information upfront.
steps:
  - id: load-memory
    name: Load Memory and Initialize Context
    description: Load agent working memory and relevant long-term context using unified memory system
    actions:
      - description: Load agent working memory and relevant long-term context
        elicit: false
        function: loadMemoryForTask
        parameters:
          agentName: generic
          context:
            taskId: kb-mode-interaction
            taskType: general
        metadata:
          memoryAction: true
          executionOrder: first
      - description: Apply memory context to task execution planning
        elicit: true
        metadata:
          memoryAction: true
          executionOrder: after-load
  - id: step0
    name: Initialize Memory and Context
    description: Set up working memory and retrieve relevant context
    actions:
      - description: Initialize working memory for KB mode interaction
        elicit: false
        metadata:
          originalIndent: 0
      - description: Retrieve previous KB interactions and commonly asked topics
        elicit: true
        metadata:
          originalIndent: 0
  - id: step1
    name: Welcome and Guide
    description: Announce entering KB mode with a brief, friendly introduction.
    actions: []
    metadata:
      level: 3
      originalNumber: '1'
  - id: step2
    name: Present Topic Areas
    description: |-
      Offer a concise list of main topic areas the user might want to explore:
      **What would you like to know more about?**
      1. **Setup & Installation** - Getting started with BMad
      2. **Workflows** - Choosing the right workflow for your project
      3. **Web vs IDE** - When to use each environment
      4. **Agents** - Understanding specialized agents and their roles
      5. **Documents** - PRDs, Architecture, Stories, and more
      6. **Agile Process** - How BMad implements Agile methodologies
      7. **Configuration** - Customizing BMad for your needs
      8. **Best Practices** - Tips for effective BMad usage
      Or ask me about anything else related to BMad-Method!
    actions: []
    metadata:
      level: 3
      originalNumber: '2'
  - id: step3
    name: Respond Contextually
    description: ''
    actions:
      - description: Wait for user's specific question or topic selection
        elicit: true
        metadata:
          originalIndent: 0
      - description: Provide focused, relevant information from the knowledge base
        elicit: true
        metadata:
          originalIndent: 0
      - description: Offer to dive deeper or explore related topics
        elicit: false
        metadata:
          originalIndent: 0
      - description: Keep responses concise unless user asks for detailed explanations
        elicit: true
        metadata:
          originalIndent: 0
    metadata:
      level: 3
      originalNumber: '3'
  - id: step4
    name: Interactive Exploration
    description: ''
    actions:
      - description: After answering, suggest related topics they might find helpful
        elicit: false
        metadata:
          originalIndent: 0
      - description: Maintain conversational flow rather than data dumping
        elicit: false
        metadata:
          originalIndent: 0
      - description: Use examples when appropriate
        elicit: false
        metadata:
          originalIndent: 0
      - description: Reference specific documentation sections when relevant
        elicit: false
        metadata:
          originalIndent: 0
    metadata:
      level: 3
      originalNumber: '4'
  - id: step5
    name: Exit Gracefully
    description: |-
      When user is done or wants to exit KB mode:
      **User**: *kb-mode
      **Assistant**: I've entered KB mode and have access to the full BMad knowledge base. I can help you with detailed information about any aspect of BMad-Method.
      **What would you like to know more about?**
      1. **Setup & Installation** - Getting started with BMad
      2. **Workflows** - Choosing the right workflow for your project
      3. **Web vs IDE** - When to use each environment
      4. **Agents** - Understanding specialized agents and their roles
      5. **Documents** - PRDs, Architecture, Stories, and more
      6. **Agile Process** - How BMad implements Agile methodologies
      7. **Configuration** - Customizing BMad for your needs
      8. **Best Practices** - Tips for effective BMad usage
      Or ask me about anything else related to BMad-Method!
      **User**: Tell me about workflows
      **Assistant**: [Provides focused information about workflows from the KB, then offers to explore specific workflow types or related topics]
    actions:
      - description: Summarize key points discussed if helpful
        elicit: false
        metadata:
          originalIndent: 0
      - description: Remind them they can return to KB mode anytime with *kb-mode
        elicit: false
        metadata:
          originalIndent: 0
      - description: Suggest next steps based on what was discussed
        elicit: false
        metadata:
          originalIndent: 0
    metadata:
      level: 3
      originalNumber: '5'
  - id: save-memory
    name: Save Task Results and Clean Memory
    description: Save task completion and findings to memory with hygiene cleanup
    actions:
      - description: Save task completion and findings to working memory
        elicit: true
        function: saveAndCleanMemory
        parameters:
          agentName: generic
          taskData:
            observation: Completed kb-mode-interaction task successfully
            significantFinding: '{{TASK_SIGNIFICANT_FINDING}}'
            taskCompleted: true
            taskId: kb-mode-interaction
            context:
              taskType: general
        metadata:
          memoryAction: true
          executionOrder: last
inputs: {}
outputs: {}
metadata:
  originalSections:
    - Purpose
    - Instructions
    - Example Interaction
  preservedContent: []
